(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{196:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),s=a(2),r=a.n(s),o=a(907),c=a(791),u=a(4),d=a(832);function l(t,e,a,n,i,s,r){try{var o=t[s](r),c=o.value}catch(t){return void a(t)}o.done?e(c):Promise.resolve(c).then(n,i)}function v(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var s=t.apply(e,a);function r(t){l(s,n,i,r,o,"next",t)}function o(t){l(s,n,i,r,o,"throw",t)}r(void 0)}))}}function f(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$context=e,this.$context.addClass("initialized"),this.$body=i()("body"),this.$saveButton=i()(".saveMe.shareicon-favorite-link",e),this.$saveText=i()(".icon-text",e),this.contentId=this.$saveButton.attr("data-content-id"),this.brand=i()("body").data("caas-sitename"),this.bindClickEvents()}var e,a,n,s,o;return e=t,(a=[{key:"markSaved",value:function(){this.$saveText.html("Saved"),this.$saveButton.addClass("saved").removeClass("saving")}},{key:"markUnsaved",value:function(){this.$saveText.html("Save"),this.$saveButton.removeClass("saved").removeClass("saving")}},{key:"save",value:(o=v(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$body.hasClass("authenticated")||this.$saveButton.hasClass("saving")||!this.contentId||!this.brand){t.next=14;break}return t.prev=1,this.$saveButton.addClass("saving"),e=new CustomEvent(u.W,{detail:{contentId:this.contentId}}),document.dispatchEvent(e),t.next=7,Object(d.e)(this.brand,this.contentId);case 7:a=t.sent,r.a.get(a,"data.data.saveBookmark.success")&&this.markSaved(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),this.$saveButton.removeClass("saving");case 14:case"end":return t.stop()}}),t,this,[[1,11]])}))),function(){return o.apply(this,arguments)})},{key:"unSave",value:(s=v(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.$body.hasClass("authenticated")||this.$saveButton.hasClass("saving")||!this.contentId||!this.brand){t.next=12;break}return t.prev=1,this.$saveButton.addClass("saving"),t.next=5,Object(d.b)(this.brand,this.contentId);case 5:e=t.sent,r.a.get(e,"data.data.deleteBookmark.success")&&this.markUnsaved(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),this.$saveButton.removeClass("saving");case 12:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(){return s.apply(this,arguments)})},{key:"bindClickEvents",value:function(){var t=this;this.$context.on("click",(function(e){e.preventDefault(),t.$saveButton.hasClass("saved")?t.unSave():t.save()}))}}])&&f(e.prototype,a),n&&f(e,n),t}(),p=function(){var t=i()(".component.favorite").not(".initialized");i.a.each(t,(function(t,e){var a=i()(e);a.data("favorite",new h(a))}))},m=i()(document.body);function b(t,e,a){var n=Object(c.a)("/element-api/content-proxy/favorite"),s=i()(".component.favorite");i()(e).closest(s).addClass("saving"),i.a.post(n,t,(function(t){JSON.parse(t).recipeBoxItemID&&(i()(e).find(".icon-text").html("Saved"),i()(e).closest(s).addClass("saved"),i()(e).closest(s).removeClass("saving"))})).fail((function(n){i()(e).closest(s).removeClass("saving"),500!==n.status||a||Object(o.a)(b,[t,e])}))}e.default=function(){if(m.attr("data-save-with-user-api")){p();var t=document.querySelectorAll(".category-page-list, .publicProfileCollection, .search-results-content-results-wrapper");if(t){var e={childList:!0,subtree:!0},a=new MutationObserver((function(){p()}));t&&t.length&&r.a.forEach(t,(function(t){a.observe(t,e)}))}}else{var n=i()(".saveMe.shareicon-favorite-link");i()(document).on("click",".saveMe.shareicon-favorite-link",(function(t){var e=t.currentTarget;if(i()(e).is(".saveMe.shareicon-favorite-link"))if(t.preventDefault(),m.hasClass("authenticated")&&!n.hasClass("saving")){b({id:i()(e).data("content-id")},e)}else{var a=i()(e).data("content-login-url")+"?actionsource=search&loginreferrerurl="+window.location.pathname+window.location.search;setTimeout((function(){window.open(a,"_self")}),0)}}))}}},235:function(t,e,a){"use strict";a.r(e);var n=a(1),i=a.n(n),s=a(5),r=a.n(s),o=a(4),c=function(){var t=i()(".fontSizeSlider__sliderInput"),e=i()(".fontSizeSlider__selectionArea"),a=i()(".fontSizeSlider").data("type"),n=["Small","Medium","Large"],s="1",c=e.data("current-size")||"Small",u=i()(".".concat(e.data("resize-area")));function d(t){if(t!==c&&r()(o.C).broadcast(t),"addClass"===a){var i=n.join(" ");u.removeClass(i),e.removeClass(i),u.addClass(t),e.addClass(t)}else!function(){var t,e,a=u[0],n=document.createNodeIterator(a,NodeFilter.SHOW_TEXT);for("0"===s?t=.8:"1"===s?t=1:"2"===s&&(t=1.3);null!=(e=n.nextNode());){var i=e.parentElement;if(i.getAttribute("data-default-font-size"))i.getAttribute("data-default-font-size")&&(i.style.fontSize="".concat(parseFloat(i.getAttribute("data-default-font-size")*t),"px")),i.getAttribute("data-default-line-height")&&(i.style.lineHeight="".concat(i.getAttribute("data-default-line-height")*t,"px"));else{var r=window.getComputedStyle(e.parentElement),o=r.getPropertyValue("font-size"),c=r.getPropertyValue("line-height"),d=parseFloat(o),l=parseFloat(c);i.setAttribute("data-default-font-size",d),i.setAttribute("data-default-line-height",l)}}}()}t.on("change input",(function(t){var a,i;t.preventDefault(),a=t.currentTarget,i=n[a.value],a.setAttribute("aria-valuenow",a.value),a.setAttribute("aria-valuetext","".concat(i," font")),d(i),s=a.value,c=i,e.attr("data-current-size",n[t.currentTarget.value])}));var l=n[0];e.data("current-size")?l=e.data("current-size"):e.attr("data-current-size",n[0]),d(l)};e.default=function(){c()}},273:function(t,e,a){"use strict";a.r(e);var n=a(12),i=a.n(n),s=a(4),r=a(58),o=a.n(r),c=a(2),u=a.n(c),d=function(t,e,a,n){var i=new Date,s=function(t){var e=document.createElement("a"),a=t;void 0===t&&(a=window.location.hostname),e.href=a;var n=e.hostname;return n.substr(0,n.lastIndexOf(".")).lastIndexOf(".")>-1&&(n=n.substr(n.substr(0,n.lastIndexOf(".")).lastIndexOf(".")+1)),n}(n);i.setTime(i.getTime()+24*a*60*60*1e3),document.cookie="".concat(t,"=").concat(e,";path=/;domain=").concat(s,";expires=").concat(i.toUTCString())},l=function(){var t,e,a,n,r=document.getElementById("auth0config"),c=(t=r,e={},[].forEach.call(t.attributes,(function(t){if(/^data-/.test(t.name)){var a=t.name.replace("data-","").replace(/-(.)/g,(function(t,e){return e.toUpperCase()}));e[a]=t.value}})),e),l=i.a.get("mdpaccount");if(l)try{document.body.classList.add("authenticated");var v=new Event(s.e);document.body.dispatchEvent(v);var f=JSON.parse(l),h=o()(f.lastAuth),p=o()(Date.now()).diff(h,"days");if(p>0&&p<366)return a=function(){new auth0.WebAuth({domain:c.domain,clientID:c.clientId,redirectUri:"".concat(c.brandDomain,"/account/signupemailcallback"),responseType:"code token id_token"}).checkSession({state:c.state,nonce:c.nonce,responseType:"code token id_token",scope:"openid email profile"},(function(t,e){if(t)throw d("mdpaccount",JSON.stringify(f),-1,c.brandDomain),t;e&&(u.a.set(f,"lastAuth",(new Date).getTime()),u.a.set(f,"hashId",u.a.get(e,"idTokenPayload.http://meredith/HashId")),d("mdpaccount",JSON.stringify(f),365,c.brandDomain))}))},(n=document.createElement("script")).onload=a,document.head.appendChild(n),n.src="https://cdn.auth0.com/js/auth0/9.12.2/auth0.min.js",!0;if(p>365)return d("mdpaccount",JSON.stringify(f),-1,c.brandDomain),null}catch(t){d("mdpaccount","",-1,c.brandDomain)}return null};e.default=function(){window.addEventListener("user-authenticated",(function(){var t=0,e=!1,a=setInterval((function(){e=l(),((t+=1)>=5||e)&&clearInterval(a)}),250)})),window.udl.get("bypass_page_auth","auth")||l()}},907:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var n=a(126),i=a.n(n),s=a(2),r=a.n(s),o=a(1),c=a.n(o),u=a(791);function d(t,e){var a=Object(u.a)("/element-api/content-proxy/refresh-cookie");c.a.ajax({url:a,retry:!1,type:"GET",timeout:3e3,xhrFields:{withCredentials:!0},success:function(a){r.a.isArray(a)&&"function"==typeof t&&(r.a.forEach(a,(function(t){document.cookie=t})),t.apply(void 0,i()(e).concat([!0])))}})}}}]);
//# sourceMappingURL=21-89658a4c.js.map