(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{791:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(2),a=r.n(n),s=r(1),o=r.n(s);function c(e){return o()(document.body).data("add-slash")&&!a.a.endsWith(e,"/")?"".concat(e,"/"):e}},798:function(e,t,r){var n=r(812),a=r(813),s=r(183),o=r(814);e.exports=function(e,t){return n(e)||a(e,t)||s(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},812:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},813:function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return s}},e.exports.default=e.exports,e.exports.__esModule=!0},814:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},832:function(e,t,r){"use strict";r.d(t,"d",(function(){return D})),r.d(t,"b",(function(){return C})),r.d(t,"e",(function(){return H})),r.d(t,"f",(function(){return M})),r.d(t,"c",(function(){return R}));var n=r(798),a=r.n(n),s=r(127),o=r.n(s),c=r(795),u=r.n(c),i=r(796),p=r.n(i),l=r(2),d=r.n(l),f=r(856),b=r.n(f),h=r(791),k=r(955),x=r(834);r(833);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){return v.apply(this,arguments)}function v(){return(v=u()(p.a.mark((function e(t,r){var n,a,s,o,c,u,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(k.a)("mdpaccount"),a=JSON.parse(n).hashId,e.next=4,b.a.post("/user-proxy/getaccount",{idToken:r,hashId:a});case 4:if(s=e.sent,o="",c=d.a.get(s,"data.data.account",{}),u=d.a.get(c,"firstName",""),i=d.a.get(c,"lastName",""),l=d.a.get(c,"email",""),o=u&&i?"".concat(u," ").concat(i):u||(i||l),"Header"!==t){e.next=13;break}return e.abrupt("return",{name:o.trim(),email:l});case 13:if("UserProfile"!==t){e.next=15;break}return e.abrupt("return",{name:o.trim()});case 15:if("PublicProfile"!==t){e.next=17;break}return e.abrupt("return",{displayName:d.a.get(c,"displayName",""),tagLine:c.tagLine,socials:{facebook:d.a.get(c.social,"facebookUsername",""),instagram:d.a.get(c.social,"instagram",""),pinterest:d.a.get(c.social,"pinterestUsername",""),tumblr:d.a.get(c.social,"tumblr",""),twitter:d.a.get(c.social,"twitterHandle","")}});case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return O.apply(this,arguments)}function O(){return(O=u()(p.a.mark((function e(){var t,r,n,a,s,o,c,u,i,l,f,x,m,g,v=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.length>0&&void 0!==v[0]?v[0]:"",n={},a=[],t?r=t:(s=Object(k.a)("mdpaccount"),r=JSON.parse(s).hashId),e.next=6,b.a.get("/element-api/content-proxy/getnewslettersconfig");case 6:return o=e.sent,c=d.a.get(o,"data")||{},e.next=10,b.a.post("/user-proxy/getnewslettersgql",{hashId:r});case 10:return u=e.sent,i=d.a.get(u,"data.newsletters")||[],l=d.a.get(u,"data.objectors")||[],f=i.filter((function(e){return null===e.endDate})),x=l.filter((function(e){return"optin"===e.status})),m=d.a.get(u,"data.currentBrand")||"",g=f&&f.length?f.map((function(e){return e.newsletterId})):[],Object.keys(c).forEach((function(e){var t=c[e].regsourceId;t&&a.push(b.a.get(Object(h.a)("/element-api/content-proxy/getemailpreferences"),{params:{regsource:t}})),n[e]=y(y({},c[e]),{},{brandId:e,newsletters:[],objectors:[],alerts:[],activeSubscriptions:0,currentBrand:m===e})})),e.next=20,b.a.all(a);case 20:return e.sent.forEach((function(e){var t=e.data,r=t.data,a=t.newsletters,s=t.objectors,o=d.a.get(r,"brand",""),c=x.filter((function(e){return e.brandId===o&&"optin"===e.status})).map((function(e){return e.objectorId})),u=a.filter((function(e){return"alert"===d.a.get(e,"objType")}));d.a.remove(a,(function(e){return"alert"===d.a.get(e,"objType")})),a.forEach((function(e){var t=Object.assign({},e);-1!==g.indexOf(e.newsletterId)?(n[o].activeSubscriptions+=1,t.checked=!0):t.checked=!1,t.originalState=t.checked,n[o].newsletters.push(t)})),s.forEach((function(e){var t=Object.assign({},e);t.uid=t.uid,-1!==c.indexOf(t.uid)?t.checked=!0:t.checked=!1,t.originalState=t.checked,n[o].objectors.push(t)})),u.forEach((function(e){var t=Object.assign({},e);-1!==g.indexOf(e.newsletterId)?(n[o].activeSubscriptions+=1,t.checked=!0):t.checked=!1,t.originalState=t.checked,n[o].alerts.push(t)}))})),e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return I.apply(this,arguments)}function I(){return(I=u()(p.a.mark((function e(t){var r,n,a,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(k.a)("mdpaccount"),n=JSON.parse(r).hashId,a={includeRejected:!0,idToken:t,userHashId:n,collation:{page:1,perPage:100,sort:"-publishDate"}},e.next=5,b.a.post("/user-proxy/getrecipesbyhashid",a);case 5:return s=e.sent,o=d.a.get(s,"data.recipes")||[],e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e){return S.apply(this,arguments)}function S(){return(S=u()(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={idToken:t,collation:{page:1,perPage:100,sort:"+publishDate"}},e.next=3,b.a.post("/user-proxy/getswearsbyhashid",r);case 3:return n=e.sent,a=d.a.get(n,"data.swears")||[],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,r,n){return N.apply(this,arguments)}function N(){return(N=u()(p.a.mark((function e(t,r,n,a){var s,o,c,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t){e.next=5;break}return e.next=4,Object(x.b)();case 4:s=e.sent;case 5:return(o=a)||(c=document.querySelector("body"))&&(o=c.getAttribute("data-caas-sitename")),u={idToken:s,brand:o},r&&(u.collation=r),n&&(u.bookmarkedItemGraphId=n),e.next=12,b.a.post("/user-proxy/getbookmarks",u);case 12:return i=e.sent,e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=u()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return J.apply(this,arguments)}function J(){return(J=u()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/element-api/content-proxy/getpets",{params:{variant:"all"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t,r){return E.apply(this,arguments)}function E(){return(E=u()(p.a.mark((function e(t,r,n){var a,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n){e.next=5;break}return e.next=4,Object(x.b)();case 4:a=e.sent;case 5:return s=Object(k.a)("mdpaccount"),o=JSON.parse(s).hashId,e.next=9,b.a.post("/user-proxy/deletebookmark",{idToken:a,userHashId:o,brand:t,contentGraphId:r});case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r,n){return _.apply(this,arguments)}function _(){return(_=u()(p.a.mark((function e(t,r,n,a){var s,o,c,u,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.b)();case 2:return s=e.sent,o=Object(k.a)("mdpaccount"),c=JSON.parse(o).hashId,u={idToken:s,hashId:c,brand:t,contentGraphId:r},n&&d.a.isArray(n)&&(u.collectionIds=n),a&&(u.saveDate=a),e.next=10,b.a.post("/user-proxy/addbookmark",u);case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t,r){return A.apply(this,arguments)}function A(){return(A=u()(p.a.mark((function e(t,r,n){var a,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.b)();case 2:return a=e.sent,s={idToken:a,hardDelete:t,provider:r,providerId:n},e.next=6,b.a.post("/user-proxy/deletebookmarkcollection",s);case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,r){return G.apply(this,arguments)}function G(){return(G=u()(p.a.mark((function e(t,r,n){var a,s,o,c,u,i,l,d=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"",s=d.length>4?d[4]:void 0,e.next=4,Object(x.b)();case 4:return o=e.sent,c=Object(k.a)("mdpaccount"),u=JSON.parse(c).hashId,i={idToken:o,userHashId:u,brand:t,collectionName:r},"boolean"==typeof n&&(i.private=n),"string"==typeof a&&(i.description=a),"string"==typeof s&&(i.providerId=s),e.next=13,b.a.post("/user-proxy/savebookmarkcollection",i);case 13:return l=e.sent,e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return q.apply(this,arguments)}function q(){return(q=u()(p.a.mark((function e(t,r){var n,a,s,o,c,u,i=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]&&i[2],a=r){e.next=6;break}return e.next=5,Object(x.b)();case 5:a=e.sent;case 6:if(s=Object(k.a)("mdpaccount"),o=JSON.parse(s).hashId,c=!1,!a||!o){e.next=15;break}return u={idToken:a,userHashId:o},t&&(u.collation=t),e.next=14,b.a.post("/user-proxy/getbookmarkcollections".concat(n?"lite":""),u);case 14:c=e.sent;case 15:return e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t,r,n){return V.apply(this,arguments)}function V(){return(V=u()(p.a.mark((function e(t,r,n,a){var s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t){e.next=5;break}return e.next=4,Object(x.b)();case 4:s=e.sent;case 5:return o={idToken:s,provider:r,providerId:n},a&&(o.collation=a),e.next=9,b.a.post("/user-proxy/getbookmarkcollectiondetails",o);case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return Q.apply(this,arguments)}function Q(){return(Q=u()(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("/element-api/content-proxy/getnewslettersconfig");case 2:return t=e.sent,r=d.a.get(t,"data")||{},n=d.a.mapValues(r||{},(function(e){return{name:d.a.get(e,"name"),favicon:d.a.get(e,"favicon")}})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t){return z.apply(this,arguments)}function z(){return(z=u()(p.a.mark((function e(t,r){var n,a,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",null);case 2:if(n=t){e.next=7;break}return e.next=6,Object(x.b)();case 6:n=e.sent;case 7:return a=Object(k.a)("mdpaccount"),s=JSON.parse(a).hashId,o={brand:r,idToken:n,userHashIds:[s]},e.next=12,b.a.post("/user-proxy/getuserhandlebyhashid",o);case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=u()(p.a.mark((function e(t){var r,n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(k.a)("mdpaccount"),e.prev=1,n=JSON.parse(r).hashId,e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),new Error(e.t0);case 8:return e.next=10,Object(x.b)();case 10:return a=e.sent,e.next=13,b.a.post("/user-proxy/getuserprofilehandle",{idToken:a,userHashId:n,brand:t});case 13:return s=e.sent,e.abrupt("return",d.a.get(s,"data.data.handle",!1));case 15:case"end":return e.stop()}}),e,null,[[1,5]])})))).apply(this,arguments)}function Y(){return(Y=u()(p.a.mark((function e(t,r){var n,s,o,c,u,i,l,f,b,h,k,m,y,v;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=window.location.href,f=document.body.getAttribute("data-caas-sitename")||"",r){e.next=9;break}return e.next=5,Object(x.b)();case 5:return s=e.sent,e.next=8,g("Header",s);case 8:o=e.sent;case 9:e.t0=t,e.next="Newsletter"===e.t0?12:"UserProfile"===e.t0?16:"PersonalInfo"===e.t0?20:"PublicProfile"===e.t0?28:"Password"===e.t0?35:"Favorites"===e.t0?37:"Collections"===e.t0?52:"CollectionDetails"===e.t0?63:"Swears"===e.t0?81:"Recipes"===e.t0?85:"QA"===e.t0?89:91;break;case 12:return e.next=14,w(r);case 14:return n=e.sent,e.abrupt("break",92);case 16:return e.next=18,g("UserProfile",s);case 18:return n=e.sent,e.abrupt("break",92);case 20:return n={},e.next=23,g("PersonalInfo",s);case 23:return n.personalInfo=e.sent,e.next=26,B();case 26:return n.breedNames=e.sent,e.abrupt("break",92);case 28:return e.next=30,g("PublicProfile",s);case 30:return n=e.sent,e.next=33,K(f);case 33:return n.handle=e.sent,e.abrupt("break",92);case 35:return n={},e.abrupt("break",92);case 37:return n={},e.next=40,Promise.all([D(s,{perPage:48}),F(),W(s,f)]);case 40:return b=e.sent,h=a()(b,3),n.bookmarks=h[0],n.brandIcons=h[1],i=h[2],n.getBookmarkCollections=R,n.getBookmarks=D,n.deleteBookmark=C,n.saveBookmark=H,n.saveBookmarkCollection=M,n.userHandle=d.a.get(i,"data.handle"),e.abrupt("break",92);case 52:return n={},e.next=55,Promise.all([R({perPage:48,sort:"-publishDate"},s),D(s,{perPage:4})]);case 55:return k=e.sent,m=a()(k,2),c=m[0],u=m[1],n.collections=c,n.getBookmarkCollections=R,n.bookmarks=u,e.abrupt("break",92);case 63:return(n={}).collectionId=l.substring(l.lastIndexOf("/")+1),e.next=67,Promise.all([L(s,"bookmarks",n.collectionId,{perPage:48}),F(),W(s,f)]);case 67:return y=e.sent,v=a()(y,3),n.collectionData=v[0],n.brandIcons=v[1],i=v[2],n.collectionData=d.a.get(n,"collectionData.data"),n.getBookmarkCollections=R,n.getBookmarkCollectionDetails=L,n.deleteBookmark=C,n.saveBookmark=H,n.saveBookmarkCollection=M,n.deleteBookmarkCollection=U,n.userHandle=d.a.get(i,"data.handle"),e.abrupt("break",92);case 81:return e.next=83,P(s);case 83:return n=e.sent,e.abrupt("break",92);case 85:return e.next=87,j(s);case 87:return n=e.sent,e.abrupt("break",92);case 89:return n={},e.abrupt("break",92);case 91:throw new Error('Unknown page type "'.concat(t,'"'));case 92:return e.abrupt("return",{userInfo:o,tabContent:n});case 93:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=u()(p.a.mark((function e(t){var r,n,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(k.a)("mdpaccount"),n=JSON.parse(r).hashId,e.next=4,Object(x.b)();case 4:return a=e.sent,e.next=7,b.a.post("/user-proxy/saveprofile",{hashId:n,idToken:a,data:t});case 7:return s=e.sent,e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=u()(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(k.a)("mdpaccount"),n=JSON.parse(r).hashId,e.next=4,b.a.post("/user-proxy/updatenewsletters",{hashId:n,brands:t});case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=u()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:return t=e.sent,e.abrupt("return",{verified:!!d.a.get(t,"idTokenPayload.email_verified",!1),email:d.a.get(t,"idTokenPayload.email","")});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=u()(p.a.mark((function e(t){var r,n,a,s,o,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(k.a)("mdpaccount"),n=JSON.parse(r).hashId,a=t.brand,s=t.regsource,o=t.account,e.next=5,b.a.post("/account/register",{hashId:n,brand:a,regsource:s,account:o});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=u()(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/element-api/content-proxy/getuserprofileconfig");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ne(){return(ne=u()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.b)();case 2:return r=e.sent,e.prev=3,e.next=6,b.a.post("/user-proxy/updatepublicprofileoptin",{idToken:r,optin:t});case 6:return n=e.sent,e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e.catch(3),new Error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}t.a={updateData:function(){return T.apply(this,arguments)},getData:function(e,t){return Y.apply(this,arguments)},saveProfileData:function(e){return Z.apply(this,arguments)},saveNewsletterData:function(e){return $.apply(this,arguments)},getEmailVerifiedStatus:function(){return ee.apply(this,arguments)},saveBrandRegistrationData:function(e){return te.apply(this,arguments)},saveBookmarkCollection:M,deleteBookmarkCollection:U,getUserProfileConfig:function(){return re.apply(this,arguments)},getUserProfileHandle:K,updatePublicProfileOptin:function(e){return ne.apply(this,arguments)}}}}]);
//# sourceMappingURL=13-52515325.js.map