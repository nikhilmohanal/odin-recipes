(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{272:function(t,e,i){"use strict";i.r(e);var n=i(2),s=i.n(n),r=i(1),a=i.n(r),o=i(5),c=i.n(o),l=i(827),h=i(4),d=i(807);function u(t,e,i,n){t.removeClass("hide"),t.each((function(t,n){var r=a()(n),o=r.data("category"),c=r.data("difficulty"),l=!0;e.length&&!s.a.includes(e,o)&&(l=!1);var h=!0;i.length&&!s.a.includes(i,c)&&(h=!1),l&&h||r.addClass("hide")})),n.refreshCarousel()}function f(t){t.removeClass("loading"),t.find(".carouselNav").each((function(t,e){var i=a()(e),n=i.find(".similarProjectsFilters"),s=i[0],r=new l.a(s,{offset:-24});n.length&&function(t,e,i){var n=e.find(".carouselNav__listItem"),s=i.find(".similarProjectsFiltersInput--difficulty"),r=i.find(".similarProjectsFiltersSelect--category"),o=[],l=[],f=[];n.each((function(t,e){var i=a()(e).data("category");o.includes(i)||(o.push(i),r.append(a()("<option/>",{value:i,text:a()("<span/>").html(i).text()})))})),r.on("change",(function(e){var i=a()("option:selected",e.target);l=i.length&&i.val()?i.val():o,u(n,l,f,t)})),c()(h.o).subscribe((function(e,r){if(Object(d.a)(r,s)){var o=i.find(".similarProjectsFiltersInput--difficulty:checked"),c=i.find(".similarProjectsFiltersInput--difficulty:not(:checked)");o.parent().addClass("similarProjectsFiltersInput--checked"),c.parent().removeClass("similarProjectsFiltersInput--checked"),f=[],o.length&&(f=o.map((function(t,e){return a()(e).val()}))),u(n,l,f,t)}}))}(r,i,n),r.render()})),c()(h.ub).broadcast()}function p(t,e){t.html(e.html),t.addClass("enabled"),t.attr("data-request-data",e.request_data),t.find(".outbrain").length&&a.a.getScript("//widgets.outbrain.com/outbrain.js",(function(){c()(h.Y).broadcast()})),f(t),c()(h.rb).broadcast()}function v(){a()(".component.recirculation[data-endpoint]:not(.initialized)").each((function(){!function(t){t.addClass("initialized");var e=t.data("endpoint");if(null==e||"null"===e)return!1;var i=t.data("recommendations-request-data")||"{}",n=JSON.parse(decodeURIComponent(i));if(n.autoadvanceIds=a()(".component.auto-advance").data("auto"),n.projectRecirc=t.data("project-recirc"),n.recircTitle=t.data("recirc-title"),n.injectContent=t.data("inject-content"),n.configType=t.data("config-type"),n.content_graph_id=t.data("content-graph-id"),n.variant=t.data("variant"),n.showErpc=t.data("show-erpc"),s.a.get(n,"useSearchApi",!1)){var r={query:s.a.get(n,"title"),contentType:s.a.get(n,"contentType"),brand:s.a.get(n,"brand"),showErpc:s.a.get(n,"showErpc")};a.a.post(e,r,(function(e){p(t,e)})).always((function(){t.removeClass("loading")}))}else a.a.get(e,n,(function(e){p(t,e)})).always((function(){t.removeClass("loading")}))}(a()(this))}))}e.default=function(){v(),c()(h.f).subscribe((function(){v()}))}},779:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},780:function(t,e){function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},807:function(t,e,i){"use strict";e.a=function(t,e){return t.is(e)||e.has(t).length>0}},827:function(t,e,i){"use strict";i.d(e,"a",(function(){return v}));var n=i(779),s=i.n(n),r=i(780),a=i.n(r);var o=i(5),c=i.n(o),l=i(1),h=i.n(l),d=i(2),u=i.n(d),f=i(4),p=function(t){var e=t.getBoundingClientRect(),i=document.body;return{top:e.top+i.scrollTop,left:e.left+i.scrollLeft,width:e.width}};var v=function(){function t(e,i){s()(this,t),this.options={viewportSelector:".carouselNav__listWrapper",listSelector:".carouselNav__list",linkSelector:".carouselNav__link",prevSelector:".carouselNav__prev",nextSelector:".carouselNav__next",itemSelector:".carouselNav__listItem",focusableSelector:"a, button, input",selectedSelector:".carouselNav__listItem--selected",scrollAnimationDuration:500,defaultScrollDistance:200,offset:0},this.elements={viewport:e.querySelector(this.options.viewportSelector),prevLink:e.querySelector(this.options.prevSelector),nextLink:e.querySelector(this.options.nextSelector)},i&&(this.options=Object.assign(this.options,i)),this.$context=h()(e),this.$slidePrev=this.$context.find(this.options.prevSelector),this.$slideNext=this.$context.find(this.options.nextSelector),this.root=e,this.wrapper=e.querySelector(this.options.listSelector),this.selectedElement=this.wrapper.querySelector(this.options.selectedSelector),this.items=this.wrapper.querySelectorAll(this.options.itemSelector),this.minItem=this.items[0];var n=parseInt(h()(this.minItem).find(this.options.focusableSelector).css("padding-left"),10);this.elements.buffer=parseInt(2*n,10),this.maxItem=this.items[this.items.length-1],this.activeIndex=0,this.touchStartX=0,this.touchEndX=0,this.firstInViewItem=null,this.lastInViewItem=null,this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}return a()(t,[{key:"refreshCarousel",value:function(){var t=h()(this.wrapper).find("".concat(this.options.itemSelector,":visible")),e=this.minItem,i=this.maxItem;t.length&&(e=t.get(0),i=t.get(t.length-1)),e&&(this.minItem=e),i&&(this.maxItem=i),this.checkEnds(),c()(f.zb).broadcast()}},{key:"markFirst",value:function(){var t=this.root.querySelector(this.options.viewportSelector),e=p(this.minItem).left-p(t).left,i=this.root.querySelector(this.options.prevSelector),n=h()(i);e>=0?n.css({display:"none"}).attr("aria-hidden","true").attr("tabindex","-1"):n.css({display:"flex"}).attr("aria-hidden","false").attr("tabindex","0")}},{key:"markLast",value:function(){var t=this.root.querySelector(this.options.viewportSelector),e=p(this.maxItem).left,i=Math.floor(e-p(t).left+this.maxItem.offsetWidth),n=this.root.querySelector(this.options.nextSelector),s=h()(n);i<=t.offsetWidth?s.css({display:"none"}).attr("aria-hidden","true").attr("tabindex","-1"):s.css({display:"flex"}).attr("aria-hidden","false").attr("tabindex","0")}},{key:"getDistance",value:function(){return this.root.querySelector(this.options.viewportSelector).offsetWidth-this.options.offset}},{key:"updateItemsAccessibility",value:function(){var t=this,e={left:0,right:0};h()(this.elements.prevLink).is(":visible")&&(e.left=p(this.elements.prevLink).width),h()(this.elements.nextLink).is(":visible")&&(e.right=p(this.elements.nextLink).width),Array.prototype.forEach.call(this.items,(function(i,n){var s=h()(i),r=s.find(t.options.focusableSelector).not("[aria-hidden]");(function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,right:0},n=p(t),s=p(e);return n.left+n.width>s.left+i.left&&n.left<s.left+(s.width-i.right)})(i,t.elements.viewport,e)||t.isTouchDevice?(s.attr("aria-hidden",!1),r.removeAttr("tabindex"),t.activeIndex=n):(s.attr("aria-hidden",!0),r.attr("tabindex","-1"))}));var i="".concat(this.options.itemSelector,'[aria-hidden="false"]'),n=this.$context.find(i);this.firstInViewItem=n.get(0),this.lastInViewItem=n.get(n.length-1),c()(f.xb).broadcast()}},{key:"checkEnds",value:function(){this.markFirst(),this.markLast(),this.updateItemsAccessibility()}},{key:"end",value:function(t,e){this.wrapper.scrollLeft=t+e,this.checkEnds()}},{key:"animatedScroll",value:function(t){var e,i,n=this.wrapper.scrollLeft,s=this.options.scrollAnimationDuration,r=this;function a(o){var l,h,d;i=o-e,r.wrapper.scrollLeft=(l=i,h=n,d=t,(l/=s/2)<1?d/2*l*l+h:-d/2*(--l*(l-2)-1)+h),i<s?requestAnimationFrame(a):(r.wrapper.scrollLeft=n+t,r.checkEnds(),c()(f.zb).broadcast())}requestAnimationFrame((function(t){e=t,a(t)}))}},{key:"scroll",value:function(t,e){var i=e;i||(i=this.options.defaultScrollDistance),"left"===t&&(i=e?-e:-i),this.animatedScroll(i)}},{key:"trackSwipeGestures",value:function(){this.touchEndX<this.touchStartX&&c()(f.i).broadcast("left",this.activeIndex),this.touchEndX>this.touchStartX&&c()(f.i).broadcast("right",this.activeIndex)}},{key:"render",value:function(){var t=this;if(this.selectedElement&&this.minItem!==this.selectedElement){var e=p(this.selectedElement),i=p(this.wrapper),n={left:e.left-i.left}.left;this.maxItem!==this.selectedElement&&(n-=this.options.offset),this.scroll("right",n)}else this.checkEnds();var s=this;c()(f.o).subscribe((function(e,i){i.closest(t.$slidePrev).length&&(e.preventDefault(),s.scroll("left",s.getDistance())),i.closest(t.$slideNext).length&&(e.preventDefault(),s.scroll("right",s.getDistance()))})),this.wrapper.addEventListener("scroll",u.a.throttle((function(){s.checkEnds(),c()(f.zb).broadcast()})),100),this.wrapper.addEventListener("touchstart",(function(t){s.touchStartX=t.changedTouches[0].screenX,s.touchStartY=t.changedTouches[0].screenY}),!1),this.wrapper.addEventListener("touchend",(function(t){s.touchEndX=t.changedTouches[0].screenX,s.touchEndY=t.changedTouches[0].screenY,s.trackSwipeGestures()}),!1),this.wrapper.addEventListener("keydown",(function(e){var i=h()(e.target);if(i.attr("id")&&h()(t.firstInViewItem).find("[id]").length&&h()(t.lastInViewItem).find("[id]").length){var n=h()(t.firstInViewItem).find("[id]").first().attr("id"),s=h()(t.lastInViewItem).find("[id]").first().attr("id"),r=i.closest(t.options.itemSelector),a=parseInt(r.css("margin-right"),10)||0,o=r.width()+a,c=i.attr("id");"ArrowRight"===e.key&&c===s&&t.scroll("right",o),"ArrowLeft"===e.key&&c===n&&t.scroll("left",o)}}),!1),c()(f.Db).subscribe((function(){s.checkEnds()}))}}]),t}()}}]);
//# sourceMappingURL=54-48cc5442.js.map